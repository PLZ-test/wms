{% extends 'core/base.html' %}

{% block content %}
<div class="page-header">
    <div>
        <a href="{% url 'management:shipper_list' %}" class="btn btn-secondary">뒤로가기</a>
    </div>

    <h1>{{ page_title }}</h1>
    <div class="btn-group">
        <a href="{% url 'management:shipper_api_create' shipper.pk %}" class="btn btn-primary">연동 추가</a>
    </div>
</div>

<table class="list-table">
    <thead>
        <tr>
            <th>쇼핑몰</th>
            <th>Access Key / ID</th>
            <th>활성 상태</th>
            <th>관리</th>
        </tr>
    </thead>
    <tbody>
        {% for api in api_infos %}
        <tr>
            <td data-label="쇼핑몰">{{ api.get_channel_type_display }}</td>
            <td data-label="키">{{ api.access_key }}</td>
            <td data-label="활성 상태">
                {% if api.is_active %}
                <span style="color: green; font-weight: bold;">활성</span>
                {% else %}
                <span style="color: gray;">비활성</span>
                {% endif %}
            </td>
            <td data-label="관리">
                <div class="action-buttons">
                    <a href="{% url 'management:shipper_api_update' api.pk %}" class="btn btn-success">수정</a>
                    <form action="{% url 'management:shipper_api_delete' api.pk %}" method="post"
                        style="display:inline;" onsubmit="return confirm('정말로 삭제하시겠습니까?');">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-danger">삭제</button>
                    </form>
                </div>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4" style="text-align: center;">등록된 API 연동 정보가 없습니다.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}