{% extends 'wms_app/base.html' %}

{% block content %}
<div class="page-header">
    <h1>{{ page_title }}</h1>
</div>

<div class="form-container">
    <div class="form-group">
        <label>오류 내용:</label>
        <textarea class="form-control" readonly rows="2" style="color: var(--danger-color);">{{ order.error_message }}</textarea>
    </div>
    <hr>
    
    <form id="main-form" method="post">
        {% csrf_token %}
        
        {# 이제 폼이 모든 필드를 포함하므로, 루프를 통해 렌더링합니다. #}
        {% for field in form %}
        <div class="form-group">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}
                <div class="error-list">{{ field.errors }}</div>
            {% endif %}
        </div>
        {% endfor %}

        <div class="form-actions">
            <a href="{% url 'order_list_error' order.order_date|date:'Y-m-d' %}" class="btn btn-secondary">취소</a>
            <button type="submit" class="btn btn-primary">수정 완료</button>
        </div>
    </form>
</div>
{% endblock %}