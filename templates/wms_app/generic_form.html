{% extends 'wms_app/base.html' %}

{% block content %}
<div class="page-header">
    {# --- [수정] 제목이 중앙에 오도록 h1 태그만 남깁니다. --- #}
    <h1>{{ page_title }}</h1>
</div>

<div class="form-container">
    <form id="main-form" method="post">
        {% csrf_token %}
        
        {% for field in form %}
        <div class="form-group">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}
                <div class="error-list">{{ field.errors }}</div>
            {% endif %}
        </div>
        {% endfor %}
    </form>
    
    <div class="form-actions">
        {# --- [수정] '취소' 버튼을 누르면 이전 페이지로 돌아가도록 링크 수정 --- #}
        <a href="{{ request.META.HTTP_REFERER|default:'/' }}" class="btn btn-secondary">취소</a>
        
        {% if object %}
        <form action="{% if delete_url_name %}{% url delete_url_name object.pk %}{% endif %}" method="post" style="display: inline;" onsubmit="return confirm('정말로 삭제하시겠습니까?');">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger">삭제</button>
        </form>
        {% endif %}
        
        <button type="submit" class="btn btn-primary" form="main-form">
            {% if object %}수정{% else %}등록{% endif %}
        </button>
    </div>
</div>
{% endblock %}