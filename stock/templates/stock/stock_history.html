{% extends 'core/base.html' %}

{% block content %}
<div class="page-header">
    <h1>입출고 기록</h1>
    <div class="btn-group">
        {# [수정] 버튼의 URL을 'stock:in_bound'로, 텍스트를 '입고 페이지로'로 변경 #}
        <a href="{% url 'stock:in_bound' %}" class="btn btn-secondary">입고 페이지로</a>
    </div>
</div>

<table class="list-table">
    <thead>
        <tr>
            <th>일시</th>
            <th>상품명</th>
            <th>화주사</th>
            <th>구분</th>
            <th>수량</th>
            <th>위치</th>
            <th>메모</th>
        </tr>
    </thead>
    <tbody>
        {% for movement in movements %}
        <tr>
            <td data-label="일시">{{ movement.timestamp|date:"Y-m-d H:i" }}</td>
            <td data-label="상품명">{{ movement.product.name }}</td>
            <td data-label="화주사">{{ movement.product.shipper.name }}</td>
            <td data-label="구분">
                {% if movement.movement_type == 'IN' %}
                <span style="color: blue; font-weight: bold;">{{ movement.get_movement_type_display }}</span>
                {% else %}
                <span style="color: red; font-weight: bold;">{{ movement.get_movement_type_display }}</span>
                {% endif %}
            </td>
            <td data-label="수량">{{ movement.quantity }}</td>
            <td data-label="위치">{{ movement.location.name|default:"-" }}</td>
            <td data-label="메모" style="white-space: pre-wrap;">{{ movement.memo }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="7" style="text-align: center;">입출고 기록이 없습니다.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}