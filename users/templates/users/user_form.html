{% extends 'core/base.html' %}

{% block content %}
{# --- [수정] 페이지 헤더 구조 변경 --- #}
<div class="page-header">
    <div>
        <a href="{% url 'users:manage' %}" class="btn btn-secondary">뒤로가기</a>
    </div>
    <h1>{{ page_title }}</h1>
    <div class="btn-group"></div>
</div>

<div class="form-container">
    <div class="form-group">
        <label>사용자명:</label>
        <input type="text" value="{{ target_user.username }}" class="form-control" readonly>
    </div>
    <div class="form-group">
         <label>이메일:</label>
        <input type="text" value="{{ target_user.email }}" class="form-control" readonly>
    </div>

    <form id="main-form" method="post">
        {% csrf_token %}
        
        {% for field in form %}
        <div class="form-group">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}
                <div class="error-list">{{ field.errors }}</div>
            {% endif %}
        </div>
        {% endfor %}
    </form>

    <div class="form-actions" style="padding-left: 0;">
        {# 상단으로 이동했으므로 하단에서는 삭제 #}
        <button type="submit" class="btn btn-primary" form="main-form">수정 완료</button>
    </div>
</div>
{% endblock %}